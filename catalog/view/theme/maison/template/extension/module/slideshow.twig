{# {% if banners %}
	<div class="slideshow swiper-viewport">
		<div id="slideshow{{ module }}" class="swiper-container">
			<div class="swiper-wrapper">
				{% for banner in banners %}
					<div class="swiper-slide text-center">{% if banner.link %}<a href="{{ banner.link }}"><img src="{{ banner.image }}" alt="{{ banner.title }}" class="img-responsive" /></a>{% else %}<img src="{{ banner.image }}" alt="{{ banner.title }}" class="img-responsive" />{% endif %}</div>
				{% endfor %}
			</div>
		</div>
		<div class="swiper-pagination slideshow{{ module }}"></div>
		<div class="swiper-pager">
			<div class="swiper-button-next"></div>
			<div class="swiper-button-prev"></div>
		</div>
	</div>
	<script>
		$('#slideshow{{ module }}').swiper({
			mode: 'horizontal',
			slidesPerView: 1,
			pagination: '.slideshow{{ module }}',
			paginationClickable: true,
			nextButton: '.slideshow .swiper-button-next',
			prevButton: '.slideshow .swiper-button-prev',
			spaceBetween: 30,
			autoplay: 2500,
			autoplayDisableOnInteraction: true,
			loop: true
		});
	</script>
{% endif %} #}
{% if banners %}

<div class="w-full relative group/carousel">
	<div class="absolute inset-0 bg-gradient-to-b from-background-dark/30 to-background-dark z-10 pointer-events-none"></div>
	<div class="relative overflow-hidden w-full h-[85vh] lg:h-[90vh]" id="hero-carousel">
		{% for banner in banners %}
		<pre>{{ loop.index }}</pre>
			{% if loop.index is odd %}
				<div class="absolute inset-0 transition-opacity duration-1000 ease-in-out slide-active" data-slide="{{ loop.index0 }}">
					<div class="absolute inset-0 bg-cover bg-center bg-no-repeat transform scale-105" 
					style='background-image: linear-gradient(rgba(245, 247, 250, 0.4) 0%, rgba(245, 247, 250, 0.85) 90%, #F5F7FA 100%), url("{{ banner.image | default("") }}");'></div>
					<div class="relative z-20 h-full max-w-7xl mx-auto px-6 lg:px-12 flex flex-col justify-center items-start">
						<div class="flex flex-col gap-6 max-w-3xl">
							<span class="text-primary text-sm font-bold uppercase tracking-[0.3em] pl-1 border-l-2 border-primary drop-shadow-sm">
								Скандинавское утро
							</span>
							<h1 class="text-luxury-charcoal text-5xl md:text-7xl lg:text-8xl font-serif font-medium leading-[1.1] text-shadow-hero">
								Тихая
								<br/><i class="font-light text-primary/80">Гармония</i>
							</h1>
							<p class="text-gray-600 text-lg md:text-xl font-light leading-relaxed max-w-xl border-l border-primary/20 pl-6 my-4 bg-white/50 backdrop-blur-sm py-2 pr-2 rounded-r-md">
								Погрузитесь в прохладную свежесть утренних оттенков и натуральных текстур. Интерьер,
																	созданный для спокойствия и уюта.
							</p>
							<div class="flex flex-wrap gap-6 mt-6">
								<button class="flex cursor-pointer items-center justify-center rounded-sm h-14 px-10 bg-white text-luxury-charcoal hover:bg-primary hover:text-white shadow-lg text-base font-bold tracking-widest uppercase transition-all duration-300 border border-transparent hover:border-primary">
									Исследовать коллекцию
								</button>
								<button class="flex cursor-pointer items-center justify-center rounded-sm h-14 px-10 border border-luxury-charcoal/30 text-luxury-charcoal hover:bg-white hover:border-transparent hover:shadow-lg text-base font-bold tracking-widest uppercase transition-all duration-300 backdrop-blur-sm">
									Смотреть лукбук
								</button>
							</div>
						</div>
					</div>
				</div>
			{% else %}
				<div class="absolute inset-0 transition-opacity duration-1000 ease-in-out slide-hidden" data-slide="{{ loop.index0 }}">
					<div class="absolute inset-0 bg-cover bg-center bg-no-repeat transform scale-105" 
					style='background-image: linear-gradient(rgba(245, 247, 250, 0.4) 0%, rgba(245, 247, 250, 0.85) 90%, #F5F7FA 100%), url("{{ banner.image | default("") }}");'></div>
					<div class="relative z-20 h-full max-w-7xl mx-auto px-6 lg:px-12 flex flex-col justify-center items-start">
						<div class="flex flex-col gap-6 max-w-3xl">
							<span class="text-primary text-sm font-bold uppercase tracking-[0.3em] pl-1 border-l-2 border-primary drop-shadow-sm">
								Премиальный Комфорт
							</span>
							<h1 class="text-luxury-charcoal text-5xl md:text-7xl lg:text-8xl font-serif font-medium leading-[1.1] text-shadow-hero">
								Искусство
								<br/><i class="font-light text-primary/80">Сна</i>
							</h1>
							<p class="text-gray-600 text-lg md:text-xl font-light leading-relaxed max-w-xl border-l border-primary/20 pl-6 my-4 bg-white/50 backdrop-blur-sm py-2 pr-2 rounded-r-md">
								Откройте для себя коллекцию из 100% египетского хлопка для непревзойденного
																	комфорта.
							</p>
							<div class="flex flex-wrap gap-6 mt-6">
								<button class="flex cursor-pointer items-center justify-center rounded-sm h-14 px-10 bg-[#263238] text-white hover:bg-primary hover:text-white shadow-lg text-base font-bold tracking-widest uppercase transition-all duration-300 border border-transparent hover:border-primary">
									Перейти в каталог
								</button>
								<button class="flex cursor-pointer items-center justify-center rounded-sm h-14 px-10 border border-luxury-charcoal/30 text-luxury-charcoal hover:bg-white hover:border-transparent hover:shadow-lg text-base font-bold tracking-widest uppercase transition-all duration-300 backdrop-blur-sm">
									О материале
								</button>
							</div>
						</div>
					</div>
				</div>
			{% endif %}
		{% endfor %}
		<button class="absolute left-4 lg:left-8 top-1/2 -translate-y-1/2 z-30 size-14 rounded-full border border-luxury-charcoal/10 bg-white/30 backdrop-blur-md flex items-center justify-center text-luxury-charcoal hover:bg-luxury-charcoal hover:text-white transition-all duration-300 group opacity-0 group-hover/carousel:opacity-100" onclick="changeSlide(-1)">
			<span class="material-symbols-outlined text-3xl font-light">arrow_back</span>
		</button>
		<button class="absolute right-4 lg:right-8 top-1/2 -translate-y-1/2 z-30 size-14 rounded-full border border-luxury-charcoal/10 bg-white/30 backdrop-blur-md flex items-center justify-center text-luxury-charcoal hover:bg-luxury-charcoal hover:text-white transition-all duration-300 group opacity-0 group-hover/carousel:opacity-100" onclick="changeSlide(1)">
			<span class="material-symbols-outlined text-3xl font-light">arrow_forward</span>
		</button>
		<div class="absolute bottom-10 left-1/2 -translate-x-1/2 z-30 flex gap-3">
			<button class="w-3 h-3 rounded-full bg-primary transition-all duration-300 ring-2 ring-transparent ring-offset-2 ring-offset-transparent hover:ring-primary/50" data-dot="0" onclick="goToSlide(0)"></button>
			<button class="w-3 h-3 rounded-full bg-luxury-charcoal/20 hover:bg-primary/50 transition-all duration-300" data-dot="1" onclick="goToSlide(1)"></button>
		</div>
	</div>
</div>

    <script>
        const slides = document.querySelectorAll('[data-slide]');
        const dots = document.querySelectorAll('[data-dot]');
        let currentSlide = 0;
        const totalSlides = slides.length;
        let slideInterval;
        function updateSlide() {
            slides.forEach((slide, index) => {
                if (index === currentSlide) {
                    slide.classList.remove('slide-hidden');
                    slide.classList.add('slide-active');
                } else {
                    slide.classList.remove('slide-active');
                    slide.classList.add('slide-hidden');
                }
            });
            dots.forEach((dot, index) => {
                if (index === currentSlide) {
                    dot.classList.remove('bg-luxury-charcoal/20', 'hover:bg-primary/50');
                    dot.classList.add('bg-primary');
                } else {
                    dot.classList.add('bg-luxury-charcoal/20', 'hover:bg-primary/50');
                    dot.classList.remove('bg-primary');
                }
            });
        }
        function changeSlide(direction) {
            currentSlide = (currentSlide + direction + totalSlides) % totalSlides;
            updateSlide();
            resetInterval();
        }
        function goToSlide(index) {
            currentSlide = index;
            updateSlide();
            resetInterval();
        }
        function resetInterval() {
            clearInterval(slideInterval);
            slideInterval = setInterval(() => {
                changeSlide(1);
            }, 5000);
        }
        // Initialize
        slideInterval = setInterval(() => {
            changeSlide(1);
        }, 5000);

    </script>
{% endif %}